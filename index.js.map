{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport async function getImagesByQuery(query) {\n    const response = await axios.get('https://pixabay.com/api/', {\n        params: {\n            key: '50466269-2b1f45a47ffe964456016cff3',\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n        }\n  \n\n    });\n    return response.data;\n}","import { refs } from \"../main\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport function createGallery(images) {\n    const markup = images.map((image) => \n        `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n        </a>\n        <ul class=\"image-info\">\n          <li class=\"info\"><p>Likes ${image.likes}</p></li>\n          <li class=\"info\"><p>Views ${image.views}</p></li>\n          <li class=\"info\"><p>Comments ${image.comments}</p></li>\n          <li class=\"info\"><p>Downloads ${image.downloads}</p></li>\n        </ul>\n      </li>`\n    ).join('');\n\n    refs.gallery.innerHTML = markup;\n    const simpleLightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n    });\n    simpleLightbox.refresh();\n}\n\n\n\nexport function clearGallery() {\n    refs.gallery.innerHTML = '';\n}\nexport function showLoader() {\n    refs.loader.classList.remove('hidden');\n}\nexport function hideLoader() {\n    refs.loader.classList.add('hidden')\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getImagesByQuery } from \"./js/pixabay-api.js\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions.js';\n\nexport const refs = {\n    form: document.querySelector('.form'),\n    gallery: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader')\n }\n\nrefs.form.addEventListener('submit', async e => {\n    e.preventDefault();\n    const query = refs.form.elements.search.value.trim();\n    if (!query) {\n        return iziToast.error({\n            title: \"Error\",\n            message: \"Please enter a search query.\",\n            position: \"topRight\",\n        });\n    }\n    clearGallery();\n    showLoader();\n    \n    await loadImages(query);\n    \n});\n    async function loadImages(query) {\n        try {\n            const res = await getImagesByQuery(query);\n\n            if (res.hits.length === 0) {\n                iziToast.error({\n                    title: \"Error\",\n                    message: \"Sorry, there are no images matching your search query. <br>Please try again!\",\n                    position: 'topRight',\n                });\n                return;\n            }\n            createGallery(res.hits);\n        } catch (err) {\n            iziToast.error({\n                title: \"Error\",\n                message: \"Something went wrong. Please try again.\",\n                position: 'topRight',\n            });\n            console.error('API error:', err);\n        } finally {\n            hideLoader();\n        }\n}\n"],"names":["getImagesByQuery","query","axios","createGallery","images","markup","image","refs","SimpleLightbox","clearGallery","showLoader","hideLoader","e","iziToast","loadImages","res","err"],"mappings":"owBAEO,eAAeA,EAAiBC,EAAO,CAY1C,OAXiB,MAAMC,EAAM,IAAI,2BAA4B,CACzD,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CAGT,CAAK,GACe,IACpB,CCXO,SAASE,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAKE,GACvB;AAAA,wCACgCA,EAAM,aAAa;AAAA,4CACfA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,sCAG5CA,EAAM,KAAK;AAAA,sCACXA,EAAM,KAAK;AAAA,yCACRA,EAAM,QAAQ;AAAA,0CACbA,EAAM,SAAS;AAAA;AAAA,YAGzD,EAAM,KAAK,EAAE,EAETC,EAAK,QAAQ,UAAYF,EACF,IAAIG,EAAe,aAAc,CACpD,aAAc,MACd,aAAc,GACtB,CAAK,EACc,QAAO,CAC1B,CAIO,SAASC,GAAe,CAC3BF,EAAK,QAAQ,UAAY,EAC7B,CACO,SAASG,GAAa,CACzBH,EAAK,OAAO,UAAU,OAAO,QAAQ,CACzC,CACO,SAASI,GAAa,CACzBJ,EAAK,OAAO,UAAU,IAAI,QAAQ,CACtC,CChCO,MAAMA,EAAO,CAChB,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEFA,EAAK,KAAK,iBAAiB,SAAU,MAAMK,GAAK,CAC5CA,EAAE,eAAc,EAChB,MAAMX,EAAQM,EAAK,KAAK,SAAS,OAAO,MAAM,OAC9C,GAAI,CAACN,EACD,OAAOY,EAAS,MAAM,CAClB,MAAO,QACP,QAAS,+BACT,SAAU,UACtB,CAAS,EAELJ,IACAC,IAEA,MAAMI,EAAWb,CAAK,CAE1B,CAAC,EACG,eAAea,EAAWb,EAAO,CAC7B,GAAI,CACA,MAAMc,EAAM,MAAMf,EAAiBC,CAAK,EAExC,GAAIc,EAAI,KAAK,SAAW,EAAG,CACvBF,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+EACT,SAAU,UAC9B,CAAiB,EACD,MACH,CACDV,EAAcY,EAAI,IAAI,CACzB,OAAQC,EAAK,CACVH,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0CACT,SAAU,UAC1B,CAAa,EACD,QAAQ,MAAM,aAAcG,CAAG,CAC3C,QAAkB,CACNL,GACH,CACT"}